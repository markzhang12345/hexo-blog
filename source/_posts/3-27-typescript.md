---
title: "TypeScriptåŸºæœ¬è¯­æ³•"
date: 2024-03-27 20:34:13
tags: [web,TypeScript]
categories: ç¬”è®°
toc: true
cover: https://cdn.thenewstack.io/media/2022/01/10b88c68-typescript-logo.png
---
# TypeScriptä¸é¢å‘å¯¹è±¡
TypeScriptæ”¯æŒé¢å‘å¯¹è±¡ç¼–ç¨‹
```
class Site { 
   name():void { 
      console.log("Runoob") 
   } 
} 
var obj = new Site(); 
obj.name();
```
ä¸Šè¿°ä»£ç å®šä¹‰äº†ä¸€ä¸ªç±»`Site`ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª**æ–¹æ³•**`name()`ï¼Œ`new`ä¸ºåˆ›å»ºç±»çš„å¯¹è±¡çš„å…³é”®å­—ã€‚

ç¼–è¯‘å`JS`ä»£ç å¦‚ä¸‹
```
var Site = /** @class */ (function () {
    function Site() {
    }
    Site.prototype.name = function () {
        console.log("Runoob");
    };
    return Site;
}());
var obj = new Site();
obj.name();
```

æ³¨æ„ã€‚`class`æ˜¯TypeScriptç‹¬æœ‰çš„ï¼ŒJavaScriptä¸­ä½¿ç”¨æ„é€ å™¨(å‡½æ•°)å’Œ`new`å…³é”®å­—æ¥å®ç°å¯¹è±¡çš„åˆ›å»ºï¼Œè€Œæ²¡æœ‰**ç±»**çš„æ¦‚å¿µã€‚

## JavaScriptä¸­çš„å¯¹è±¡
ä½¿ç”¨`let`å’Œ`{}`æ¥ä¸ºå¯¹è±¡èµ‹å€¼ï¼Œä¸€èˆ¬çš„é”®å€¼å¯¹å«**å±æ€§**ï¼Œå¯ä»¥ä½¿ç”¨`.`æˆ–`[]`æ¥è®¿é—®ï¼Œä½¿ç”¨`delete`åˆ é™¤æŸä¸€å±æ€§ã€‚
```
let user = {
  name: "John",
  age: 30,
}
```

å¯ä»¥ä½¿ç”¨`for...in...`æ¥éå†å¯¹è±¡ä¸­**å±æ€§**ä¸**å€¼**ã€‚

å¯¹è±¡ä¸­å¯ä»¥å†…åµŒ**æ–¹æ³•**å‡½æ•°ï¼Œç±»æ¯”C++ä¸­çš„æˆå‘˜å‡½æ•°ã€‚

JavaScriptä¸­ä¹Ÿå­˜åœ¨`this`å…³é”®å­—ï¼Œä¸åŒäºC++ï¼Œè¿™ä¸ª`this`ä¸æ˜¯æŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œä»£è¡¨**è¯¥å¯¹è±¡**ã€‚

è¿™è¾¹å¯¹è±¡çš„æ„é€ å‡½æ•°ä¸åŒäºC++ï¼Œå¹¶ä¸æ˜¯æˆå‘˜å‡½æ•°ï¼Œè€Œæ˜¯æ™®é€šçš„å¸¸è§„å‡½æ•°ï¼Œä½†æ˜¯å…¶æœ‰ä¸¤ä¸ªçº¦å®šï¼š
- å®ƒä»¬çš„å‘½åä»¥å¤§å†™å­—æ¯å¼€å¤´
- å®ƒä»¬åªèƒ½ç”±`new`æ“ä½œç¬¦æ¥æ‰§è¡Œ

[ç°ä»£JavaScriptæ•™ç¨‹](https://zh.javascript.info/object-basics)

# TypeScriptåŸºç¡€ç±»å‹
## Anyç±»å‹
ä»»æ„å€¼æ˜¯ TypeScript é’ˆå¯¹ç¼–ç¨‹æ—¶ç±»å‹ä¸æ˜ç¡®çš„å˜é‡ä½¿ç”¨çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œå®ƒå¸¸ç”¨äºä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š

- å˜é‡çš„å€¼ä¼šåŠ¨æ€æ”¹å˜æ—¶ï¼Œæ¯”å¦‚æ¥è‡ªç”¨æˆ·çš„è¾“å…¥ï¼Œä»»æ„å€¼ç±»å‹å¯ä»¥è®©è¿™äº›å˜é‡è·³è¿‡ç¼–è¯‘é˜¶æ®µçš„ç±»å‹æ£€æŸ¥ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š
```
let x: any = 1;    // æ•°å­—ç±»å‹
x = 'I am who I am';    // å­—ç¬¦ä¸²ç±»å‹
x = false;    // å¸ƒå°”ç±»å‹
```

- æ”¹å†™ç°æœ‰ä»£ç æ—¶ï¼Œä»»æ„å€¼å…è®¸åœ¨ç¼–è¯‘æ—¶å¯é€‰æ‹©åœ°åŒ…å«æˆ–ç§»é™¤ç±»å‹æ£€æŸ¥ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š
```
let x: any = 4;
x.ifItExists();    // æ­£ç¡®ï¼ŒifItExistsæ–¹æ³•åœ¨è¿è¡Œæ—¶å¯èƒ½å­˜åœ¨ï¼Œä½†è¿™é‡Œå¹¶ä¸ä¼šæ£€æŸ¥
x.toFixed();    // æ­£ç¡®
```

- å®šä¹‰å­˜å‚¨å„ç§ç±»å‹æ•°æ®çš„æ•°ç»„æ—¶ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š
```
let arrayList: any[] = [1, false, 'fine'];
arrayList[1] = 100;
```

## NULLå’ŒUndefine
nullæ˜¯ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå€¼çš„ç‰¹æ®Šç±»å‹ï¼Œundefineæ˜¯ä¸€ä¸ªæ²¡æœ‰è®¾ç½®å€¼çš„å˜é‡ã€‚

ä»¥ä¸Šã€‚

## neverç±»å‹
neveræ˜¯å…¶å®ƒç±»ï¼ˆåŒ…æ‹¬nullå’Œundefinedï¼‰çš„å­ç±»å‹ï¼Œä»£è¡¨ä»ä¸ä¼šå‡ºç°çš„å€¼ã€‚è¿™æ„å‘³ç€å£°æ˜ä¸ºneverç±»å‹çš„å˜é‡åªèƒ½è¢«neverç±»å‹æ‰€èµ‹å€¼ï¼Œåœ¨å‡½æ•°ä¸­å®ƒé€šå¸¸è¡¨ç°ä¸ºæŠ›å‡ºå¼‚å¸¸æˆ–æ— æ³•æ‰§è¡Œåˆ°ç»ˆæ­¢ç‚¹ï¼ˆä¾‹å¦‚æ— é™å¾ªç¯ï¼‰ã€‚

```
let x: never;
let y: number;

// ç¼–è¯‘é”™è¯¯ï¼Œæ•°å­—ç±»å‹ä¸èƒ½è½¬ä¸º never ç±»å‹
x = 123;

// è¿è¡Œæ­£ç¡®ï¼Œnever ç±»å‹å¯ä»¥èµ‹å€¼ç»™ neverç±»å‹
x = (()=>{ throw new Error('exception')})();

// è¿è¡Œæ­£ç¡®ï¼Œnever ç±»å‹å¯ä»¥èµ‹å€¼ç»™ æ•°å­—ç±»å‹
y = (()=>{ throw new Error('exception')})();

// è¿”å›å€¼ä¸º never çš„å‡½æ•°å¯ä»¥æ˜¯æŠ›å‡ºå¼‚å¸¸çš„æƒ…å†µ
function error(message: string): never {
    throw new Error(message);
}

// è¿”å›å€¼ä¸º never çš„å‡½æ•°å¯ä»¥æ˜¯æ— æ³•è¢«æ‰§è¡Œåˆ°çš„ç»ˆæ­¢ç‚¹çš„æƒ…å†µ
function loop(): never {
    while (true) {}
}
```

## è¿˜æœ‰ä¸€äº›å¸¸è§ç±»å‹

...

# TypeScriptå˜é‡å£°æ˜
è¿™ä¸‹å˜é‡çš„å£°æ˜ç»ˆäºå’Œå…¶ä»–ç¼–ç¨‹è¯­è¨€ç›¸ä¼¼äº†ã€‚æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š

å£°æ˜å˜é‡çš„ç±»å‹åŠåˆå§‹å€¼
```
let uname:string = "Runoob";
```

å£°æ˜å˜é‡çš„ç±»å‹ï¼Œä½†æ²¡æœ‰åˆå§‹å€¼ï¼Œå˜é‡å€¼ä¼šè®¾ç½®ä¸ºundefined
```
var uname:string;
```

å£°æ˜å˜é‡å¹¶åˆå§‹å€¼ï¼Œä½†ä¸è®¾ç½®ç±»å‹ï¼Œè¯¥å˜é‡å¯ä»¥æ˜¯ä»»æ„ç±»å‹
```
var uname = "Runoob";
```

å£°æ˜å˜é‡æ²¡æœ‰è®¾ç½®ç±»å‹å’Œåˆå§‹å€¼ï¼Œç±»å‹å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œé»˜è®¤åˆå§‹å€¼ä¸º undefined
```
var uname;
```

å¯¹äºç±»å‹å‡ºç°çš„é”™è¯¯ï¼ŒTyprScriptä¼šåœ¨ç¼–è¯‘çš„æ—¶å€™è¿›è¡ŒæŠ¥é”™ã€‚

## ç±»å‹æ–­è¨€
å³æŒ‡å®šæŸä¸€å˜é‡çš„ç±»å‹ï¼Œé€šå¸¸é€‚ç”¨äºä¸€ç§ç±»å‹æ˜¯ç±»å¤–ä¸€ç§ç±»å‹çš„å­ç±»å‹ã€‚è¯¥è¯­æ³•ä»…ä»…æ˜¯ä¸ºäº†åœ¨ç¼–è¯‘æ—¶è¿›è¡Œåˆ¤æ–­ï¼Œå¯¹å®é™…çš„ç¨‹åºæ²¡æœ‰è¿è¡Œæ”¯æŒï¼Œæ•…ä¸èƒ½ç§°ä¹‹ä¸ºç±»å‹è½¬æ¢ã€‚
```
<ç±»å‹>å€¼
```
ä¾‹å¦‚ï¼šå¯ä»¥å°†anyæ–­è¨€æˆä»»ä½•ç±»å‹ï¼Œæˆ–å°†ä»»ä½•ç±»å‹æ–­è¨€æˆnever

## ç±»å‹æ¨æ–­
å½“æŸä¸€å˜é‡çš„ç±»å‹æ²¡æœ‰ç»™å‡ºæ—¶ï¼ŒTypeScriptç¼–è¯‘å™¨ä¼šä½¿ç”¨ç±»å‹æ¨æ–­æ¥åˆ¤æ–­ç±»å‹ã€‚è‹¥ç¼ºä¹ä¾æ®ï¼Œåˆ™å°†ç±»å‹åˆ¤æ–­æˆanyç±»å‹ã€‚

## å˜é‡ä½œç”¨åŸŸ
å˜é‡ä½œç”¨åŸŸæŒ‡å®šäº†å˜é‡å®šä¹‰çš„ä½ç½®ã€‚ç¨‹åºä¸­å˜é‡çš„å¯ç”¨æ€§ç”±å˜é‡ä½œç”¨åŸŸå†³å®šã€‚
TypeScriptä¸­æœ‰ä¸‰ç§ä½œç”¨åŸŸï¼š
- å…¨å±€ä½œç”¨åŸŸ
- ç±»ä½œç”¨åŸŸ
    å£°æ˜åœ¨ç±»ä¸­ï¼Œåœ¨æ–¹æ³•å¤–ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ç±»çš„å¯¹è±¡æ¥è®¿é—®ã€‚é™æ€å¯¹è±¡å¯ä»¥é€šè¿‡ç±»åç›´æ¥è®¿é—®ã€‚
- å±€éƒ¨ä½œç”¨åŸŸ
    åªèƒ½åœ¨å£°æ˜å®ƒçš„ä»£ç å—ä¸­ä½¿ç”¨
    (åŸºæœ¬ä¸C++ä¸­å·®ä¸å¤š)

å®ä¾‹ï¼š
```
var global_num = 12          // å…¨å±€å˜é‡
class Numbers { 
   num_val = 13;             // å®ä¾‹å˜é‡
   static sval = 10;         // é™æ€å˜é‡
   
   storeNum():void { 
      var local_num = 14;    // å±€éƒ¨å˜é‡
   } 
} 
console.log("å…¨å±€å˜é‡ä¸º: "+global_num)  
console.log(Numbers.sval)   // é™æ€å˜é‡
var obj = new Numbers(); 
console.log("å®ä¾‹å˜é‡: "+obj.num_val)
```

# TypeScriptè¿ç®—ç¬¦
TypeScriptä¸­å­˜åœ¨åŒ…æ‹¬**typeof**åœ¨å†…çš„æ‰€æœ‰åœ¨C/C++ä¸­å¸¸è§çš„è¿ç®—ç¬¦ã€‚

ä»¥ä¸Šã€‚

# TypeScriptæ¡ä»¶è¯­å¥
- ifã€if-elseã€if-else if-else
- switch

ä»¥ä¸Šã€‚

# TypeScriptå¾ªç¯
## forå¾ªç¯
åŸºæœ¬è¯­æ³•å’Œå…¶ä»–å‡ ä¸ªè¯­è¨€ä¸€è‡´ã€‚
```
for ( init; condition; increment ){
    statement(s);
}
```

### for...in
for...inè¯­å¥ç”¨äºä¸€ç»„å€¼çš„é›†åˆæˆ–åˆ—è¡¨è¿›è¡Œè¿­ä»£è¾“å‡ºã€‚
```
for (var val in list) { 
    //è¯­å¥ 
}
```
valéœ€è¦ä¸ºstringæˆ–è€…anyç±»å‹
å®ä¾‹ï¼š
```
var j:any; 
var n:any = "a b c" 
 
for(j in n) {
    console.log(n[j])  
}
```

### for...of
for...ofè¯­å¥åˆ›å»ºä¸€ä¸ªå¾ªç¯æ¥è¿­ä»£å¯è¿­ä»£çš„å¯¹è±¡ã€‚åœ¨ES6ä¸­å¼•å…¥çš„for...ofå¾ªç¯ï¼Œä»¥æ›¿ä»£ for...in å’Œ forEach() ï¼Œå¹¶æ”¯æŒæ–°çš„è¿­ä»£åè®®ã€‚
```
// for...in å¾ªç¯ç¤ºä¾‹
const obj = { a: 1, b: 2, c: 3 };

for (const key in obj) {
    console.log(key); // è¾“å‡º aã€bã€c
    console.log(obj[key]); // è¾“å‡º 1ã€2ã€3
}

// for...of å¾ªç¯ç¤ºä¾‹
const arr = [1, 2, 3];

for (const value of arr) {
    console.log(value); // è¾“å‡º 1ã€2ã€3
}
```
## whileã€do...whileå¾ªç¯
ä»¥ä¸Šã€‚

# TypeScriptå‡½æ•°
ä¸JavaScriptçš„åŒºåˆ«ä¸»è¦åœ¨å‚æ•°å’Œè¿”å›å€¼ä¸Šã€‚
## å‡½æ•°è¿”å›å€¼
```
function function_name():return_type { 
    // è¯­å¥
    return value; 
}
```
- return_typeæ˜¯è¿”å›å€¼çš„ç±»å‹ã€‚
- valueçš„ç±»å‹åº”è¯¥ä¸return_typeä¸€è‡´

## å¸¦å‚æ•°å‡½æ•°
```
function add(x: number, y: number): number {
    return x + y;
}
console.log(add(1,2))
```

## å¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•°
### å¯é€‰
å®ä¾‹ï¼š
```
function buildName(firstName: string, lastName?: string) {
    if (lastName)
        return firstName + " " + lastName;
    else
        return firstName;
}
 
let result1 = buildName("Bob");  // æ­£ç¡®
let result2 = buildName("Bob", "Adams", "Sr.");  // é”™è¯¯ï¼Œå‚æ•°å¤ªå¤šäº†
let result3 = buildName("Bob", "Adams");  // æ­£ç¡®
```

### é»˜è®¤
```
function calculate_discount(price:number,rate:number = 0.50) { 
    var discount = price * rate; 
    console.log("è®¡ç®—ç»“æœ: ",discount); 
} 
calculate_discount(1000) 
calculate_discount(1000,0.30)
```
## å‰©ä½™å‚æ•°
å³å°†æœ€åä¸€ä¸ªå½¢å‚è®¾ç½®ä¸ºç”±å‰©ä½™å‚æ•°ç»„æˆçš„æ•°ç»„ï¼Œç´¢å¼•å€¼ç”±0åˆ°`.length()`ã€‚
å®ä¾‹ï¼š
```
function addNumbers(...nums:number[]) {  
    var i;   
    var sum:number = 0; 
    
    for(i = 0;i<nums.length;i++) { 
       sum = sum + nums[i]; 
    } 
    console.log("å’Œä¸ºï¼š",sum) 
 } 
 addNumbers(1,2,3) 
 addNumbers(10,10,10,10,10)
```

## åŒ¿åå‡½æ•°
å³æ²¡æœ‰å‡½æ•°åçš„å‡½æ•°ï¼Œä¸€èˆ¬ç”¨ä½œå‡½æ•°è¡¨è¾¾å¼ã€‚åœ¨å‡½æ•°åç›´æ¥ä½¿ç”¨`()`ï¼Œå³ä¸ºåŒ¿åå‡½æ•°çš„å­è°ƒç”¨ã€‚

## æ„é€ å‡½æ•°
æ„Ÿè§‰ç”¨ä¸ä¸Šï¼Œå…ˆæ”¾ç€ã€‚ğŸ˜¢